<ActionBar title="">
    <NavigationButton *ngIf="isAndroid" icon="res://ic_menu" (tap)="openDrawer()"></NavigationButton>
    <ActionItem *ngIf="isIos" icon="res://ic_menu" ios.position="left" (tap)="openDrawer()"></ActionItem>

    <StackLayout orientation="horizontal"
                 ios:horizontalAlignment="center"
                 android:horizontalAlignment="center">
        <Image height="30" width="30" src="~/images/caterpiller-icon-white-48.png"
               class="m-r-10 action-image" stretch="aspectFill"></Image>
        <Label [text]="room"  class="action-label"></Label>
    </StackLayout>
</ActionBar>



<RadSideDrawer #drawerComponent tkToggleNavButton>
    <ScrollView tkDrawerContent class="drawer-content">
        <StackLayout horizzontalAlign="left">
            <drawer-content></drawer-content>
        </StackLayout>
    </ScrollView>
    <GridLayout tkMainContent>
        <ListView [items]="managed_kids" class="list-group">
            <template let-item="item">

                <GridLayout class="list-group-item" rows="*" columns="auto, *,*" (longPress)="onLongPress($event, item)" (tap)="redirectToKidDashboard(item)">
                    <StackLayout row="0" col="0">

                        <Image height="75" width="75" class="kid-profile-pic blue-circle-border" src="{{ item.photograph_url ? item.photograph_url : '~/images/avatar-100.png' }}"></Image>
                    </StackLayout>

                    <StackLayout  row="0" col="1" verticalAlignment="center" orientation="vertical" class="p-l-20">
                        <Label [text]="item.fname+' '+item.lname" class="font-weight-bold"></Label>
                        <Label [text]="item.age+' years old'" class="very-light-gray"></Label>
                    </StackLayout>

                    <StackLayout row="0" col="2" orientation="vertical" horizontalAlignment="right" >
                        <Image height="40" width="40" verticalAlignment="center" stretch ="aspectFill" src="~/images/profile-details-60.png"></Image>
                        <StackLayout orientation="horizontal" verticalAlignment="center" horizontalAlignment="center">
                            <StackLayout *ngIf="item.reminders_count != 0">
                                <Label [text]="item.reminders_count" class="number-with-circle reminders-count text-center"></Label>
                            </StackLayout>
                            <StackLayout *ngIf="item.notifications_count != 0">
                                <Label [text]="item.notifications_count" class="number-with-circle notifications-count text-center"></Label>
                            </StackLayout>
                        </StackLayout>
                    </StackLayout>
                </GridLayout>

            </template>
        </ListView>

        <StackLayout class="dimmer" visibility="{{ isLoading ? 'visible' : 'collapsed'}}"></StackLayout>
        <GridLayout rows="*" visibility="{{ isLoading ? 'visible' : 'collapsed'}}">
            <ActivityIndicator class="busy activity-indicator" busy="true"></ActivityIndicator>
        </GridLayout>

    </GridLayout>>
</RadSideDrawer>
